{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\david\\\\Music\\\\Assignment 2\\\\WorkoutTrackerWithReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\david\\\\Music\\\\Assignment 2\\\\WorkoutTrackerWithReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\david\\\\Music\\\\Assignment 2\\\\WorkoutTrackerWithReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\david\\\\Music\\\\Assignment 2\\\\WorkoutTrackerWithReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\david\\\\Music\\\\Assignment 2\\\\WorkoutTrackerWithReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\david\\\\Music\\\\Assignment 2\\\\WorkoutTrackerWithReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\david\\\\Music\\\\Assignment 2\\\\WorkoutTrackerWithReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\david\\\\Music\\\\Assignment 2\\\\WorkoutTrackerWithReactJS\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Workouts from './components/workouts/Workouts';\nimport Header from './components/layout/Header';\nimport Footer from './components/layout/Footer';\nimport axios from 'axios';\nimport About from './components/pages/About';\nimport Contact from './components/pages/Contact';\nimport AddWorkout from './components/addWorkout/AddWorkout';\nimport fire from './config/Fire';\nimport Login from './Login';\nimport uuid from 'uuid';\nimport '../node_modules/bootstrap/dist/css/bootstrap.css';\nimport * as api from './api';\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.state = {\n      workouts: []\n    };\n\n    _this.delWorkout = function (id) {\n      _this.setState({\n        workouts: _toConsumableArray(_this.state.workouts.filter(function (workout) {\n          return workout.id !== id;\n        }))\n      });\n    };\n\n    _this.addWorkout = function (location, type, length) {\n      api.add(location, type, length).then(function (resp) {\n        var newWorkout = {\n          \"location\": location,\n          \"type\": type,\n          \"length\": length\n        };\n\n        _this.setState({\n          workouts: _this.state.posts.concat([newWorkout])\n        });\n      });\n    };\n\n    _this.state = {\n      user: null\n    };\n    _this.authListener = _this.authListener.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.logout = _this.logout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"logout\",\n    value: function logout() {\n      fire.auth().signOut();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      api.getAll().then(function (resp) {\n        _this2.setState({\n          workouts: resp.posts\n        });\n      }).catch(console.error);\n    }\n  }, {\n    key: \"authListener\",\n    // //  addWorkout = (location, type, length) => {\n    // //   const newWorkout = {\n    // //    id: uuid.v4(),\n    // //    location,\n    // //    type,\n    // //    length,\n    // //   }\n    //   console.log(newWorkout);\n    //   this.setState({\n    //    workouts: [...this.state.workouts, newWorkout]\n    //   });\n    //  }\n    value: function authListener() {\n      var _this3 = this;\n\n      fire.auth().onAuthStateChanged(function (user) {\n        console.log(user);\n\n        if (user) {\n          _this3.setState({\n            user: user\n          });\n\n          localStorage.setItem('user', user.uid);\n        } else {\n          _this3.setState({\n            user: null\n          });\n\n          localStorage.removeItem('user');\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, this.state.user ? React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn\",\n        onClick: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Logout\"), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render(props) {\n          return React.createElement(React.Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, React.createElement(AddWorkout, {\n            addWorkout: _this4.addWorkout,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }), React.createElement(Workouts, {\n            workouts: _this4.state.workouts,\n            delWorkout: _this4.delWorkout,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/about\",\n        component: About,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/contact\",\n        component: Contact,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }))) : React.createElement(Login, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\david\\Music\\Assignment 2\\WorkoutTrackerWithReactJS\\src\\App.js"],"names":["React","Component","BrowserRouter","Router","Route","Workouts","Header","Footer","axios","About","Contact","AddWorkout","fire","Login","uuid","api","App","state","workouts","delWorkout","id","setState","filter","workout","addWorkout","location","type","length","add","then","resp","newWorkout","posts","concat","user","authListener","bind","logout","auth","signOut","getAll","catch","console","error","onAuthStateChanged","log","localStorage","setItem","uid","removeItem","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport Workouts from './components/workouts/Workouts'\r\nimport Header from './components/layout/Header'\r\nimport Footer from './components/layout/Footer'\r\nimport axios from 'axios';\r\nimport About from './components/pages/About'\r\nimport Contact from './components/pages/Contact'\r\nimport AddWorkout from './components/addWorkout/AddWorkout'\r\nimport fire from './config/Fire';\r\nimport Login from './Login';\r\nimport uuid from 'uuid';\r\nimport '../node_modules/bootstrap/dist/css/bootstrap.css';\r\nimport * as api from './api';\r\n\r\n\r\n\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n\r\n constructor() {\r\n  super();\r\n  this.state = ({\r\n   user: null,\r\n  });\r\n  this.authListener = this.authListener.bind(this);\r\n  this.logout = this.logout.bind(this);\r\n }\r\n state = {\r\n  workouts: []\r\n }\r\n\r\n logout() {\r\n  fire.auth().signOut();\r\n }\r\n componentDidMount() {\r\n  api.getAll().then(resp => {\r\n      this.setState({\r\n          workouts: resp.posts\r\n      });\r\n  }).catch(console.error);\r\n};\r\n\r\n\r\n \r\n\r\n delWorkout = (id) => {\r\n  this.setState({\r\n   workouts: [...this.state.workouts.filter(workout => workout.id !== id)]\r\n  });\r\n }\r\n\r\n\r\n\r\n\r\n addWorkout = (location, type, length) => {\r\n  api.add(location,type,length)\r\n  .then(resp => {\r\n                const newWorkout = {\"location\":location,\"type\":type, \"length\": length};\r\n                this.setState({workouts: this.state.posts.concat([newWorkout])});\r\n  })\r\n};\r\n\r\n// //  addWorkout = (location, type, length) => {\r\n// //   const newWorkout = {\r\n// //    id: uuid.v4(),\r\n// //    location,\r\n// //    type,\r\n// //    length,\r\n// //   }\r\n//   console.log(newWorkout);\r\n//   this.setState({\r\n//    workouts: [...this.state.workouts, newWorkout]\r\n//   });\r\n//  }\r\n\r\n authListener() {\r\n  fire.auth().onAuthStateChanged((user) => {\r\n   console.log(user);\r\n   if (user) {\r\n    this.setState({\r\n     user\r\n    });\r\n    localStorage.setItem('user', user.uid);\r\n   } else {\r\n    this.setState({\r\n     user: null\r\n    });\r\n    localStorage.removeItem('user');\r\n   }\r\n  });\r\n }\r\n    \r\n    \r\n  render() {\r\n    return (\r\n        \r\n<div>\r\n\t<div className=\"main\">\r\n\t\t<div>{this.state.user ?  (\r\n        <Router>\r\n                    <div className=\"container\">\r\n                            <Header />\r\n                            <button className=\"btn\" onClick={this.logout}>Logout</button>\r\n                            <Route exact path=\"/\" render={ props =>(\r\n\r\n                            <React.Fragment>\r\n                                <AddWorkout addWorkout={this.addWorkout} />\r\n                                <Workouts workouts={this.state.workouts} \r\n                                delWorkout={this.delWorkout}/>\r\n                            </React.Fragment>\r\n\r\n                                                                        )} />\r\n                            <Route path=\"/about\" component={About}/>\r\n                            <Route path=\"/contact\" component={Contact}/>\r\n                            <Footer />\r\n                        </div>\r\n        </Router>) : (<Login />)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}